# Secrets & temp files
key.txt.age
tmp*
**/*.{bak,log,old,ori,zwc}
.ssh/known_hosts
.bitwarden-ssh-agent.sock

# IDE & cache
.vscode
.{cache,pki,m2,nv,dotnet}
.local/bin/bw

# App state/cache
.config/{BraveSoftware/*,google-chrome/*,Authy*,Bitwarden*,fcitx5/conf/cached_layouts,lazygit/state.yml,rbw,wakatime}
!.config/google-chrome/NativeMessagingHosts/**
!.config/BraveSoftware/NativeMessagingHosts/**
.config/clipse/{clipboard_history.json,tmp_files}
.config/nvim/lazy-lock.json
.config/zsh/.{history,zcompdump}
.config/fish/fish_variables
.bash_history

# User directories
{Downloads,Documents,Desktop,Music,Videos,Public,Templates,Pictures}

# .local (whitelist only what's needed)
.local/*
!.local/share/{icons,fonts,themes}
!.local/bin

# Generated theme files
.config/**/{themes,Themes}/**
**/theme.toml*
.config/{qt5ct,qt6ct}
.config/gtk-{3,4}.0/{colors.css,assets,bookmarks}
.config/{rofi/colors.rasi,hypr/hyprland/colors.conf,niri/dank*}
.config/kitty/{dank*,color*,current-theme.conf}

# Yazi plugins/flavors
.config/yazi/{plugins,flavors}/**

# Platform-specific
{{ if ne .chezmoi.os "linux" -}}
.chezmoiscripts/linux/**
.config/{kitty,hypr,rofi,matugen,kvantum,paru,clipse,gtk*,niri,uwsm}
{{ end -}}
{{ if ne .chezmoi.os "windows" -}}
.chezmoiscripts/windows/**
{{ end -}}
{{ if eq .chezmoi.os "windows" -}}
!Documents/*PowerShell/
{{ end }}

# Compositor-specific
{{ if ne .compositor "hyprland" -}}
.config/hypr/{hyprland*,variables*}
.config/uwsm/env-hypr*
{{ end -}}
{{ if ne .compositor "niri" -}}
.config/niri/**
{{ end }}

# Conditional tools
{{ if not (lookPath "hypridle") -}}
.config/hypr/hypridle.conf
{{ end -}}
{{ if not (lookPath "hyprlock") -}}
.config/hypr/hyprlock.conf
{{ end }}

# Shell-specific
{{ if ne .defaultShell "zsh" -}}
.config/{zsh,fsh}
{{ end -}}
{{ if ne .defaultShell "fish" -}}
.config/fish
{{ end }}

# Distro-specific
{{ if not (.distroFamily | contains "arch") -}}
.chezmoiscripts/linux/01-arch/**
{{ end -}}
{{ if not (.distroFamily | contains "fedora") -}}
.chezmoiscripts/linux/01-fedora/**
{{ end }}
